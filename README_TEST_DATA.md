# Тестовые данные для Stanbase

## Проблема решена! ✅

**Проблема**: При каждом перезапуске приложения автоматически создавались тестовые данные, что приводило к дублированию записей.

**Решение**: Тестовые данные теперь создаются только по запросу через отдельный скрипт.

## Как использовать

### 1. Создание тестовых данных (только при необходимости)

```bash
python init_test_data.py
```

Этот скрипт создаст:
- Страны (Казахстан, Узбекистан, Кыргызстан, Таджикистан, Туркменистан)
- Города (Алматы, Астана, Ташкент, Бишкек, Душанбе)
- Категории (Fintech, HealthTech, HRTech, E-commerce, SaaS)
- Компании (CerebraAI, Uzum, Tezbus, Voicy, FORBOSSINFO, Pamir Group, BILLZ)
- Новости (6 новостей о стартапах ЦА)
- Тестовых пользователей:
  - `admin@stanbase.test` / `admin123` (администратор)
  - `moderator@stanbase.test` / `mod123` (модератор)
  - `startuper@stanbase.test` / `startuper123` (стартапер)
- Email шаблоны (приветствие, сброс пароля)

### 2. Обычный запуск приложения

```bash
python main.py
# или
uvicorn main:app --reload
```

Теперь при запуске приложения тестовые данные **НЕ** создаются автоматически.

### 3. Инициализация только структуры БД

```bash
python init_db.py
```

Этот скрипт создает только структуру таблиц и базовые email шаблоны, без тестовых данных.

## Что изменилось

### В `main.py`:
- ❌ Удален автоматический вызов `create_full_test_data()`
- ✅ Функция `create_full_test_data()` осталась для возможного использования в будущем
- ✅ Создание таблиц (`Base.metadata.create_all()`) осталось

### Новые файлы:
- ✅ `init_test_data.py` - скрипт для создания тестовых данных
- ✅ `README_TEST_DATA.md` - эта инструкция

## Логин для тестирования

После создания тестовых данных используйте:

| Email | Пароль | Роль |
|-------|--------|------|
| `admin@stanbase.test` | `admin123` | Администратор |
| `moderator@stanbase.test` | `mod123` | Модератор |
| `startuper@stanbase.test` | `startuper123` | Стартапер |

## Безопасность

- Тестовые данные создаются только если соответствующие таблицы пусты
- Скрипт можно запускать многократно без дублирования данных
- В продакшене используйте только `init_db.py` для создания структуры БД