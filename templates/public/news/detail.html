{% extends 'layout.html' %}

{% block title %}{{ news.title }} — Новости компаний Центральной Азии | stanbase{% endblock %}

{% block meta_description %}{{ news.summary }}{% if news.content %}{{ news.content[:100] }}{% endif %} Новости инновационных компаний и технологий в Центральной Азии.{% endblock %}

{% block meta_keywords %}{{ news.title }}, новости компаний, Центральная Азия, Казахстан, Узбекистан, Кыргызстан, Таджикистан, Туркменистан, инновации, венчурные инвестиции, технологии{% endblock %}

{% block og_title %}{{ news.title }} — Новости компаний Центральной Азии | stanbase{% endblock %}

{% block og_description %}{{ news.summary }}{% if news.content %}{{ news.content[:100] }}{% endif %} Новости инновационных компаний и технологий в Центральной Азии.{% endblock %}

{% block twitter_title %}{{ news.title }} — Новости компаний Центральной Азии | stanbase{% endblock %}

{% block twitter_description %}{{ news.summary }}{% if news.content %}{{ news.content[:100] }}{% endif %} Новости инновационных компаний и технологий в Центральной Азии.{% endblock %}

{% block content %}
<div class="container-lg">


  <div class="row">
    <!-- Левая колонка - Основная новость -->
    <div class="col-lg-8">
      <article class="news-detail">
        <header class="mb-4">
          <h1 class="h2 mb-3">{{ news.title }}</h1>
                                <div class="d-flex align-items-center text-muted mb-3">
                        <i class="bi bi-calendar3 me-2"></i>
                        <span>{{ news.date.strftime('%d.%m.%Y') }}</span>
                        <span class="mx-2">•</span>
                        <i class="bi bi-person me-1"></i>
                        {% if news.author %}
                          {% if news.author.website %}
                            <a href="{{ news.author.website }}" target="_blank" class="text-decoration-none">{{ news.author.name }}</a>
                          {% else %}
                            <span>{{ news.author.name }}</span>
                          {% endif %}
                        {% else %}
                          <span>Редакция</span>
                        {% endif %}
                        <span class="mx-2">•</span>
                        <i class="bi bi-eye me-1"></i>
                        <span>{{ news.views|default(0) }}</span>
                      </div>
          {% if news.summary %}
          <div class="lead text-muted mb-4">{{ news.summary }}</div>
          {% endif %}
        </header>

        {% if news.image %}
        <div class="news-image mb-4">
          <img src="{{ news.image }}" alt="{{ news.title }}" class="img-fluid rounded shadow-sm" style="max-width: 100%; height: auto;">
        </div>
        {% endif %}
        
        {% if news.content %}
        <div class="news-content mb-4">
          {{ news.content|safe }}
        </div>
        {% endif %}

                            <footer class="border-top pt-4">
                      <div class="d-flex justify-content-between align-items-center">
                        <a href="/news" class="btn btn-outline-secondary">
                          <i class="bi bi-arrow-left me-1"></i>
                          К списку новостей
                        </a>
                        <button class="btn btn-outline-primary" onclick="shareNews()">
                          <i class="bi bi-share me-1"></i>
                          Поделиться
                        </button>
                      </div>
                    </footer>
      </article>
    </div>

                    <!-- Правая колонка - Дополнительный контент -->
                <div class="col-lg-4">
                  <!-- Другие новости -->
                  {% if other_news %}
                  <div class="card shadow-sm mb-4">
                    <div class="card-body">
                      <h5 class="mb-3">Другие новости</h5>
                      <ul class="list-group list-group-flush mb-4">
                        {% for other in other_news[:5] %}
                        <li class="list-group-item">
                          <a href="/news/{{ other.slug }}">{{ other.title }}</a><br>
                          <span class="text-muted small">{{ other.date.strftime('%d.%m.%Y') }}</span>
                        </li>
                        {% endfor %}
                      </ul>
                    </div>
                  </div>
                  {% endif %}

                  <!-- Ближайшие мероприятия -->
                  {% if upcoming_events %}
                  <div class="card shadow-sm mb-4">
                    <div class="card-body">
                      <h5 class="mb-3">Ближайшие мероприятия</h5>
                      <ul class="list-group list-group-flush mb-4">
                        {% for event in upcoming_events[:3] %}
                        <li class="list-group-item">
                          <a href="/event/{{ event.id }}">{{ event.title }}</a><br>
                          <span class="text-muted small">{{ event.date.strftime('%d.%m.%Y') }}</span>
                          {% if event.location %}
                          <br><span class="text-muted small">{{ event.location }}</span>
                          {% endif %}
                        </li>
                        {% endfor %}
                      </ul>
                    </div>
                  </div>
                  {% endif %}


                </div>
  </div>
</div>

<style>
.news-detail {
  background: #fff;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 1px 4px rgba(0,0,0,0.04);
  font-size: 16px;
}

.news-detail h1 {
  font-size: 1.75rem; /* 28px */
  font-weight: 600;
  margin-bottom: 1rem;
}

.news-detail h2 {
  font-size: 1.5rem; /* 24px */
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.news-detail h3 {
  font-size: 1.25rem; /* 20px */
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.news-detail h4 {
  font-size: 1.125rem; /* 18px */
  font-weight: 600;
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
}

.news-content {
  line-height: 1.6;
  font-size: 1rem; /* 16px - стандартный размер */
}

.news-content p {
  margin-bottom: 1.25rem;
  font-size: 1rem; /* 16px */
}

.news-content img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 1rem 0;
}

.news-image {
  text-align: center;
}

.news-image img {
  max-width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease-in-out;
}

.news-image img:hover {
  transform: scale(1.02);
}

.news-detail .lead {
  font-size: 1.125rem; /* 18px */
  line-height: 1.6;
  color: #6c757d;
}

.news-detail .text-muted {
  font-size: 0.875rem; /* 14px */
}

.news-detail .small {
  font-size: 0.8125rem; /* 13px */
}

.news-detail .btn {
  font-size: 0.875rem; /* 14px */
}

.news-detail .card h5 {
  font-size: 1.125rem; /* 18px */
  font-weight: 600;
}

.news-detail .list-group-item {
  font-size: 0.875rem; /* 14px */
}

.news-detail .list-group-item a {
  font-size: 0.875rem; /* 14px */
}



@media (max-width: 991.98px) {
  .news-detail {
    padding: 1.5rem;
  }
  
  .news-detail h1 {
    font-size: 1.5rem; /* 24px */
  }
  
  .news-detail h2 {
    font-size: 1.25rem; /* 20px */
  }
}
</style>

<script>
function shareNews() {
  const title = "{{ news.title }}";
  const url = window.location.href;
  const text = "{{ news.summary or news.title }}";
  
  // Используем только Web Share API
  if (navigator.share) {
    navigator.share({
      title: title,
      text: text,
      url: url
    }).then(() => {
      console.log('Поделились успешно');
    }).catch((error) => {
      console.log('Ошибка при попытке поделиться:', error);
    });
  }
}
</script>
{% endblock %} 