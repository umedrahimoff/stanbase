{% extends 'admin/layout.html' %}
{% block content %}
<h2 class="mb-4">Категории</h2>
<form class="row g-3 mb-3" method="post">
  <div class="col-md-6 col-lg-4">
    <input type="text" name="name" class="form-control" placeholder="Название категории" required>
  </div>
  <div class="col-md-2">
    <button type="submit" class="btn btn-primary">Добавить</button>
  </div>
  {% if error %}<div class="col-12"><div class="alert alert-danger">{{ error }}</div></div>{% endif %}
</form>
<table class="table table-striped table-hover align-middle bg-white rounded-0 border-0">
  <thead class="table-light"><tr><th>ID</th><th>Название</th><th class="text-end">Действия</th></tr></thead>
  <tbody>
    {% for c in categories %}
      <tr>
        <td>{{ c.id }}</td>
        <td>{{ c.name }}</td>
        <td class="text-end">
          <a href="{{ url_for('admin_edit_category', category_id=c.id) }}" class="btn btn-sm btn-outline-secondary">Редактировать</a>
          <form action="{{ url_for('admin_delete_category', category_id=c.id) }}" method="post" style="display:inline;" onsubmit="return confirm('Удалить категорию?');">
            <button type="submit" class="btn btn-sm btn-outline-danger">Удалить</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %} 